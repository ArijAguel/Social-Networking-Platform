<div [dir]="'dir'|translate" class="hidden h-full lg:fixed lg:flex  lg:w-72 lg:flex-col bg-white z-auto">
  <!-- Sidebar component, swap this element with another sidebar if you like -->
  <div [dir]="'dir'|translate" *ngIf="user$ | async as user"
       class="flex py-10 grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200  px-6 ">
    <div class="flex h-16 shrink-0 items-center">
      <img [dir]="'dir'|translate" alt="{{user.nom}}{{user.prenom}}" class="h-10 w-10 rounded-full"
           src="{{user.photo | defaultimage:user.prenom :user.nom }}">
      <div [dir]="'dir'|translate" class="mx-2 text-s">
        <a [dir]="'dir'|translate" [queryParams]="{id:user.id}" [routerLinkActive]="['navItemActive']"
           [routerLink]="['/profile']"
           class="m-0  text-primaryBlue text-decoration-none">{{ user.prenom + ' ' + user.nom|titlecase }}</a>
      </div>

    </div>
    <nav class="flex flex-1 flex-col -ml-16 -mt-2 ">
      <ul class="flex flex-1 flex-col  " role="list">

        <li>
          <ul class="-mx-2 space-y-1" role="list">
            <mat-accordion>

              <li>

                <mat-expansion-panel hideToggle [expanded]="url=='/feed/my-business' || url=='/feed/discover-business'">
                  <mat-expansion-panel-header>

                    <mat-panel-title [dir]="'dir'|translate">
                      <!-- Current: "bg-gray-50 text-primaryBlue", Default: "text-gray-700 hover:text-primaryBlue hover:bg-gray-50" -->
                      <span
                        class="w-full text-decoration-none  text-primaryBlue group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-medium hover:bg-white hover:text-second">
                        <svg class="w-6 h-6" fill="none" height="20" stroke="currentColor" stroke-width="1.5"
                             viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"
                            stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        {{ 'BUSINESS'|translate }}
                      </span>

                    </mat-panel-title>
                  </mat-expansion-panel-header>


                  <a [dir]="'dir'|translate" [routerLink]="['/feed/my-business']" [routerLinkActive]="['bg-white']"
                     class=" mt-1text-[15px] font-medium block rounded-lg  px-4 py-2 text-sm text-decoration-none text-second hover:bg-white">

                    {{ 'MY_BUSINESSES'|translate }}
                  </a>


                  <a [dir]="'dir'|translate" [routerLink]="['/feed/program']" [routerLinkActive]="['bg-white']"
                     class=" mt-1 text-[15px] font-medium block rounded-lg  px-4 py-2 text-sm text-decoration-none text-second hover:bg-white">
                    {{ 'PROGRAMS_AS_BUSINESSES'|translate }}
                  </a>

                  <a [dir]="'dir'|translate" [routerLink]="['/feed/discover-business']"
                     [routerLinkActive]="['bg-white']"
                     class=" mt-1 text-[15px] font-medium block rounded-lg  px-4 py-2 text-sm text-decoration-none text-second hover:bg-white">

                    {{ 'PUBLIC_BUSINESSES'|translate }}
                  </a>
                  <a [dir]="'dir'|translate" [routerLink]="['/feed/my-business/create']"
                     [routerLinkActive]="['bg-white']"
                     class=" mt-1text-[15px] font-medium block rounded-lg  px-4 py-2 text-sm text-decoration-none text-second hover:bg-white">

                    {{ 'ADD_A_BUSINESS'|translate }}
                  </a>

                </mat-expansion-panel>
              </li>






              <!--              <li>-->
              <!--                <a href="#"-->
              <!--                   class="text-decoration-none  text-primaryBlue group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold hover:bg-white hover:text-second">-->
              <!--                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"-->
              <!--                       class="bi bi-save-fill" viewBox="0 0 16 16">-->
              <!--                    <path-->
              <!--                      d="M8.5 1.5A1.5 1.5 0 0 1 10 0h4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6c-.314.418-.5.937-.5 1.5v7.793L4.854 6.646a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l3.5-3.5a.5.5 0 0 0-.708-.708L8.5 9.293z"/>-->
              <!--                  </svg>-->
              <!--                  Saved-->
              <!--                </a>-->
              <!--              </li>-->
            </mat-accordion>
          </ul>
        </li>

      </ul>
    </nav>
  </div>

</div>

<p-dialog [dir]="'dir'|translate" [(visible)]="roleModal" [closable]="true" [dismissableMask]="true"
          [header]="getHeaderText()" [modal]="true" [resizable]="false" [style]="{width: '70vw'}">
  <form #ngForm="ngForm">

    <div>
      <div>
        <div class="sm:flex sm:items-start ">
          <div
            class="mx-auto flex h-12 w-12 mt-2 flex-shrink-0 items-center justify-center rounded-full bg-tertiary sm:mx-0 sm:h-10 sm:w-10 ml-3">
            <svg *ngIf="roleContenu =='Investor'" class="w-7 h-7 " fill="none" stroke="currentColor" stroke-width="1.5"
                 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">

              <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
            </svg>
            <svg *ngIf="roleContenu =='Professional'" class="w-7 h-7 " fill="none" stroke="currentColor"
                 stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">

              <path stroke-linecap="round" stroke-linejoin="round"
                    d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"/>
            </svg>

          </div>
          <div [dir]="'dir'|translate" class="mt-3 w-full  sm:ml-4 sm:mt-0 mr-2">
            <h3 class="text-base font-semibold leading-6 text-gray-900"
                id="modal-title">{{ 'READY_TO_CONNECT_WITH_LEADING_PROFESSIONALS'|translate }}
            </h3>
            <div class="mt-2 w-full">
              <div [dir]="'dir'|translate" *ngIf="roleContenu =='Professional'">

                <p class="text-sm text-gray-500 ">
                  {{ 'CONSULTANT_PROFESSIONAL_TRAINER_OR_BUSINESS_COACH_JOIN_OUR_COMMUNITY'|translate }} </p>
                <div class="mt-4" [dir]="'dir'|translate">
                  <p [dir]="'dir'|translate" class="font-bold text-gray-900">{{ 'ROLES'|translate }} </p>

                  <ng-multiselect-dropdown [dir]="'dir'|translate" [(ngModel)]="selectedRoles"
                                           [settings]="dropdownSettings" [data]="roles" name="selectedItems" required>
                  </ng-multiselect-dropdown>
                </div>
                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'INDUSTRIES'|translate }}</p>
                  <ng-multiselect-dropdown [(ngModel)]="selectedIndustry" [settings]="dropdownSettings"
                                           [data]="industry" name="selectedItems2" required>
                  </ng-multiselect-dropdown>
                </div>
                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'CAPABILITIES'|translate }}</p>

                  <ng-multiselect-dropdown [(ngModel)]="selectedCapabilities" [settings]="dropdownSettings"
                                           [data]="capabilities" name="selectedItems3" required>
                  </ng-multiselect-dropdown>
                </div>

                <div class="mt-4">
                  <!-- text area for bio -->
                  <p class="font-bold text-gray-900">{{ 'BIO'|translate }}</p>
                  <div class="mt-2">
                    <textarea [(ngModel)]="coach.bio"
                              class="h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                              id="bio" name="bio" ngModel rows="3"></textarea>
                  </div>
                </div>

                <!-- input for standard fees and input for currency and input for per (all in one line) -->
                <div class="mt-4 ">
                  <p class="font-bold text-gray-900">{{ 'STANDARD_FEES'|translate }}</p>
                  <div class="mt-2 flex      ">
                    <div class="relative  w-[400px]">
                      <div class="absolute inset-y-0 start-0 top-0 flex items-center ps-3.5 pointer-events-none">
                        <svg aria-hidden="true" class="w-4 h-4 text-gray-500 dark:text-gray-400" fill="none"
                             viewBox="0 0 20 16" xmlns="http://www.w3.org/2000/svg">

                          <path
                            d="M5 2a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1M2 5h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm8 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"
                            stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                        </svg>

                      </div>
                      <input [(ngModel)]="coach.standardFees"
                             class="block p-2.5 w-full z-20 ps-10 text-sm text-gray-900 bg-white rounded-s-lg border-e-gray-50 border-e-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500      "
                             name="standardFees" ngModel placeholder="{{'STANDARD_FEES'|translate}}"
                             required type="number"/>
                    </div>
                    <select [(ngModel)]="coach.currency"
                            class="  z-10 inline-flex items-center py-2.5 px-2 text-sm font-medium text-center text-gray-900 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100  "
                            name="currency" ngModel placeholder="currency" type="text">

                      <option value="USD">USD</option>
                      <option value="EUR">EUR</option>
                      <option value="TND">TND</option>
                      <option value="GBP">GBP</option>
                      <option value="CHF">CHF</option>
                      <option value="JPY">JPY</option>
                      <option value="CNY">CNY</option>
                      <option value="AED">AED</option>
                    </select>

                    <div class="ml-4 pt-2.5">

                      {{ 'PER'|translate }}
                    </div>


                    <select [(ngModel)]="coach.per"
                            class="ml-4  w-[300px] h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4   py-2 bg-white  disabled:cursor-not-allowed "
                            name="per1" ngModel placeholder="per" type="text">

                      <option value="hour">{{ 'HOUR'|translate }}</option>
                      <option value="day">{{ 'DAY'|translate }}</option>
                      <option value="project">{{ 'PROJECT'|translate }}</option>
                    </select>

                  </div>
                </div>

                <!-- i have variable called countries select it from there -->
                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'COUNTRY'|translate }}</p>

                  <div class="mt-2">
                    <ng-multiselect-dropdown [(ngModel)]="selectedCountries" [data]="countryName"
                                             [settings]="dropdownSettings" name="selectedItems3" required>
                    </ng-multiselect-dropdown>
                  </div>
                  <p *ngIf="ngForm.value.country" class="font-bold mt-4 text-gray-900">{{ 'GOVERNONATE'|translate }}</p>

                  <input *ngIf="ngForm.value.country" [(ngModel)]="coach.governonate"
                         class="h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                         name="governonate" ngModel placeholder="Governonate" type="text">


                </div>

                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'YEARS_OF_EXPERIENCE'|translate }}</p>
                  <select [(ngModel)]="coach.years_experience"
                          class="h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                          id="years" name="years_experience">

                    <option value="<=1"> &le; 1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5-9">5-9</option>
                    <option value=">=">&ge; 10</option>
                  </select>

                </div>


                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'USEFUL_INFORMATION'|translate }}</p>
                  <div class="mt-2">
                    <textarea [(ngModel)]="coach.useful_information"
                              class="h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                              id="useful_informatio2" name="useful_information" ngModel rows="3"></textarea>
                  </div>
                </div>


              </div>
              <div [dir]="'dir'|translate" *ngIf="roleContenu !='Professional'" class="mt-4 w-full">
                <p>{{ 'SEEKING_HIGH_GROWTH_POTENTIAL_APP_CONNECTS_YOU_WITH_EXCEPTIONAL_OPPORTUNITIES'|translate }}</p>
                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'ACTIVITY_AREAS'|translate }}</p>
                  <ng-multiselect-dropdown [(ngModel)]="selectedIndustry" [settings]="dropdownSettings"
                                           [data]="industry" name="selectedItems2" required>
                  </ng-multiselect-dropdown>
                </div>
                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'INVESTMENT_TICKETS'|translate }}</p>
                  <div class="grid grid-cols-2 gap-2">
                    <div><select [(ngModel)]="investisseur.investment_ticket"
                                 class="h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                                 id="investment_ticket" name="investment_ticket">
                      <option value="<5">
                        <5
                      <option value="5-9">5-9
                      </option>
                      <option value="10-19">10-19</option>
                      <option value="20-49">20-49</option>
                      <option value="50-99">50-99</option>
                      <option value="100-299">100-299</option>
                      <option value="300-999">300-999</option>
                    </select>
                    </div>
                    <div>
                      <select [(ngModel)]="investisseur.currency"
                              class="h-10 w-full ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                              name="currency" ngModel placeholder="currency" type="text">

                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                        <option value="TND">TND</option>
                        <option value="GBP">GBP</option>
                        <option value="CHF">CHF</option>
                        <option value="JPY">JPY</option>
                        <option value="CNY">CNY</option>
                        <option value="AED">AED</option>

                      </select>

                    </div>
                  </div>

                </div>
                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'WORKING_AREA'|translate }}</p>
                  <div class="mt-2">
                    <select [(ngModel)]="investisseur.working_area"
                            class="h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                            name="working_area" ngModel>

                      <option *ngFor="let country of countryName" value="{{country}}">
                        {{ country }}
                      </option>
                    </select>

                  </div>
                  <p *ngIf="ngForm.value.working_area" class="font-bold mt-4 text-gray-900">
                    {{ 'GOVERNONATE'|translate }}</p>
                  <input *ngIf="ngForm.value.working_area" [(ngModel)]="investisseur.governonate"
                         class="h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                         name="governonate" ngModel placeholder="{{'GOVERNONATE'|translate}}" type="text">


                </div>
                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'PREVIOUS_INVESTMENTS'|translate }}</p>
                  <select [(ngModel)]="investisseur.previous_investments"
                          class="h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                          name="previous_investments">

                    <option value="0"> 0</option>
                    <option value="1">1</option>
                    <option value="2-5"> 2-5</option>
                    <option value=">=5">&ge;5</option>
                  </select>
                </div>
                <div class="mt-4">
                  <p class="font-bold text-gray-900">{{ 'USEFUL_INFORMATION'|translate }}</p>
                  <div class="mt-2">
                    <textarea [(ngModel)]="investisseur.useful_information"
                              class="h-10 ring-1 ring-gray-300 mt-1 rounded-md px-4 w-full py-2 bg-white  disabled:cursor-not-allowed "
                              id="useful_information2" name="useful_information" ngModel rows="3"></textarea>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>

      </div>

      <div [dir]="'dir'|translate" class="ml-16 mt-4">

        <input [dir]="'dir'|translate" class="size-4 rounded border-gray-300" id="Option1" name="policy" ngModel
               required type="checkbox"/>


        <strong *ngIf="roleContenu !='Professional'" class="ml-4 font-medium text-gray-900">
          {{ 'BY_CHECKING_THIS_BOX_YOU_INDICATE_TO_THE_COMMUNITY_THAT_YOU_ARE_SEEKING_TO_INVEST_IN_CERTAIN_BUSINESSES'|translate }}
        </strong>
        <strong *ngIf="roleContenu =='Professional'" class="ml-4 font-medium text-gray-900">
          {{ 'BY_CHECKING_THIS_BOX_YOU_INDICATE_TO_THE_COMMUNITY_THAT_YOU_ARE_READY_TO_HELP_BUSINESSES_WITH_YOUR_EXPERTISE'|translate }}

        </strong>

      </div>

      <div class="grid grid-cols-2 gap-4   ">
        <button (click)="cancel()"
                class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900   ring-1 ring-inset ring-gray-300  "
                type="button">
          {{ 'CANCEL'|translate }}
        </button>
        <button (click)="roleContenu == 'Investor'? becomeInvestor( ):becomeCoach( )"
                [disabled]="!ngForm.form.value['policy']"
                class="disabled:cursor-not-allowed mt-3 inline-flex w-full justify-center rounded-md bg-main px-3 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-gray-300  "
                type="submit">{{ 'CONTINUE'|translate }}

        </button>
      </div>
    </div>
  </form>

</p-dialog>
